<template>

    <div class="position-relative">

        <!-- carousel -->
        <div id="carouselVideo" class="carousel slide" data-bs-ride="carousel" style="width: 100%;">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <video autoplay loop muted playsinline style="width: 100%; height: 500px; object-fit: cover;">
                        <source src="../../../assets/images/homecustomer/tour1.mp4" type="video/mp4">
                        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
                    </video>
                </div>
                <div class="carousel-item">
                    <video autoplay loop muted playsinline style="width: 100%; height: 500px; object-fit: cover;">
                        <source src="../../../assets/images/homecustomer/tour2.mp4" type="video/mp4">
                        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
                    </video>
                </div>
                <div class="carousel-item">
                    <video autoplay loop muted playsinline style="width: 100%; height: 500px; object-fit: cover;">
                        <source src="../../../assets/images/homecustomer/tour3.mp4" type="video/mp4">
                        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
                    </video>
                </div>

            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselVideo" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselVideo" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

        <div class="position-absolute top-100 start-50 translate-middle w-50">

            <!-- KHUNG T√åM KI·∫æM CH√çNH (ƒê√£ thu g·ªçn) -->
            <div class="bg-white d-flex align-items-center py-3 px-4 rounded-pill shadow-lg mb-3" style="
                        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
                        opacity: 0; 
                        transform: translateY(50px); 
                        transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        border: 2px solid #f0f0f0;
                    " data-animate="fade-in-up">

                <div class="flex-grow-1 px-3">
                    <label
                        style="font-weight: 800; font-size: 0.95rem; color: #1e3a8a; margin-bottom: 2px; display: block;">
                        <i class="fa-solid fa-location-dot me-2 text-primary"></i>
                        ƒêi·ªÉm ƒë·∫øn <span style="color: #f87171;">*</span>
                    </label>
                    <input type="text" v-model="searchText"
                        style="border: none; outline: none; width: 100%; color: #374151; font-size: 1.1rem; padding: 0; background: transparent;"
                        placeholder="T√¨m ki·∫øm th√†nh ph·ªë, ƒëi·ªÉm tham quan...">
                    <p v-if="errors.diaDiem" class="text-danger mt-1" style="font-size: 0.85rem;">
                        {{ errors.diaDiem }}
                    </p>

                </div>

                <div class="d-none d-md-block"
                    style="width: 1px; height: 35px; background-color: #d1d5db; margin: 0 8px;"></div>

                <div class="px-3" style="min-width: 180px;">
                    <label
                        style="font-weight: 800; font-size: 0.95rem; color: #1e3a8a; margin-bottom: 2px; display: block;">
                        <i class="fa-regular fa-calendar-alt me-2 text-success"></i>
                        Ng√†y ƒëi
                    </label>
                    <input type="text" onfocus="(this.type='date')" onblur="(this.type='text')" v-model="ngayDi"
                        style="border: none; outline: none; width: 100%; color: #374151; font-size: 1.1rem; padding: 0; background: transparent;"
                        placeholder="Ch·ªçn ng√†y">
                </div>

                <div class="d-none d-md-block"
                    style="width: 1px; height: 35px; background-color: #d1d5db; margin: 0 8px;"></div>

                <div class="px-3" style="min-width: 160px;">
                    <label
                        style="font-weight: 800; font-size: 0.95rem; color: #1e3a8a; margin-bottom: 2px; display: block;">
                        <i class="fa-solid fa-sack-dollar me-2" style="color: #f59e0b;"></i>
                        Ng√¢n s√°ch
                    </label>
                    <select class="form-select border-0 p-0" v-model="nganSach"
                        style="border: none !important; outline: none !important; width: 100%; color: #374151; font-size: 1.1rem; padding: 0 !important; background: transparent !important; background-image: none !important; box-shadow: none !important;">
                        <option value="" disabled selected style="color: #6c757d;">M·ª©c gi√°</option>
                        <option value="1">&lt; 5 tri·ªáu</option>
                        <option value="2">5 - 10 tri·ªáu</option>
                        <option value="3">&gt; 10 tri·ªáu</option>
                    </select>
                </div>

                <div class="ps-2">
                    <button class="shadow-lg border-0" @click="submitSearch" style="
                width: 50px; 
                height: 50px; 
                border-radius: 50%; 
                background-color: #ff5722; /* M√†u cam n·ªïi b·∫≠t */
                color: white; 
                display: flex; 
                align-items: center; 
                justify-content: center; 
                transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Hi·ªáu ·ª©ng Pop-up */
            " onmouseover="this.style.backgroundColor='#e64a19'; this.style.transform='scale(1.15) rotate(5deg)'"
                        onmouseout="this.style.backgroundColor='#ff5722'; this.style.transform='scale(1) rotate(0deg)'">
                        <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- L√ù DO CH·ªåN NHTRAVEL -->
    <div class="mt-5"
        style="background-color: #f4f8ff; padding: 4rem 1rem; border-top: 1px solid #0099ff; border-bottom: 1px solid #0099ff;">

        <h2 style="text-align: center; font-size: 1.8rem; font-weight: bold; margin-bottom: 2.5rem; opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease, transform 0.8s ease;" data-animate="fade-in-up">
            V√¨ sao b·∫°n n√™n ch·ªçn NHTravel üíô
        </h2>

        <div class="row justify-content-center g-4 mx-auto"
            style="max-width: 1200px; opacity: 0; transform: translateY(30px); transition: all 0.8s ease;"
            data-animate="fade-in-up">

            <div class="col-lg-4 col-md-6">
                <div class="bg-white shadow-sm p-4 text-center h-100"
                    style="border-radius: 1rem; border: 1px solid #eee; transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);"
                    onmouseover="this.style.transform='translateY(-10px) scale(1.02)'; this.style.boxShadow='0 15px 30px rgba(0, 0, 0, 0.15)'"
                    onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 1px 2px rgba(0,0,0,0.07)'">

                    <div class="mx-auto"
                        style="border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); background-color: #28a745;">
                        <img src="../../../assets/images/homecustomer/salary.png" style="width: 40px;" alt="Gi√° t·ªët">
                    </div>
                    <h4 style="margin-top: 1rem; font-weight: bold;">Gi√° t·ªët nh·∫•t cho b·∫°n</h4>
                    <p style="color: #555;">C√≥ nhi·ªÅu m·ª©c gi√° ƒëa d·∫°ng ph√π h·ª£p v·ªõi ng√¢n s√°ch v√† nhu c·∫ßu c·ªßa b·∫°n</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="bg-white shadow-sm p-4 text-center h-100"
                    style="border-radius: 1rem; border: 1px solid #eee; transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);"
                    onmouseover="this.style.transform='translateY(-10px) scale(1.02)'; this.style.boxShadow='0 15px 30px rgba(0, 0, 0, 0.15)'"
                    onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 1px 2px rgba(0,0,0,0.07)'">
                    <div class="mx-auto"
                        style="border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); background-color: #007bff;">
                        <img src="../../../assets/images/homecustomer/world-tour.png" style="width: 40px;"
                            alt="D·ªÖ d√†ng ƒë·∫∑t tour">
                    </div>
                    <h4 style="margin-top: 1rem; font-weight: bold;">Booking d·ªÖ d√†ng</h4>
                    <p style="color: #555;">C√°c b∆∞·ªõc booking v√† chƒÉm s√≥c kh√°ch h√†ng nhanh ch√≥ng v√† thu·∫≠n ti·ªán</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="bg-white shadow-sm p-4 text-center h-100"
                    style="border-radius: 1rem; border: 1px solid #eee; transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);"
                    onmouseover="this.style.transform='translateY(-10px) scale(1.02)'; this.style.boxShadow='0 15px 30px rgba(0, 0, 0, 0.15)'"
                    onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 1px 2px rgba(0,0,0,0.07)'">
                    <div class="mx-auto"
                        style="border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); background-color: #ffc107;">
                        <img src="../../../assets/images/homecustomer/tour-guide.png" style="width: 40px;"
                            alt="Tour t·ªëi ∆∞u">
                    </div>
                    <h4 style="margin-top: 1rem; font-weight: bold;">Tour du l·ªãch t·ªëi ∆∞u</h4>
                    <p style="color: #555;">ƒêa d·∫°ng c√°c lo·∫°i h√¨nh tour du l·ªãch v·ªõi nhi·ªÅu m·ª©c gi√° kh√°c nhau</p>
                </div>
            </div>
        </div>
    </div>

    <!-- BOOKING C√ôNG NHTRAVEL -->
    <div style="padding: 4rem 10rem; background-color: #fff; text-align: center; position: relative; overflow: hidden;opacity: 0; transform: translateY(30px); transition: all 0.8s ease;"
        data-animate="fade-in-up">

        <h2> Booking c√πng NHTravel</h2>

        <p style="color: #666; font-size: 1rem; margin-bottom: 3rem;">
            Ch·ªâ v·ªõi 3 b∆∞·ªõc ƒë∆°n gi·∫£n v√† d·ªÖ d√†ng c√≥ ngay tr·∫£i nghi·ªám tuy·ªát v·ªùi!
        </p>

        <div style="position: absolute; top: 140px; left: 0; right: 0; z-index: 0;">
            <hr class="mt-5" style="width:100%; height:150px; border-top:4px dashed #007bff; border-radius:50%;">
        </div>

        <div class="container">
            <div class="row" style="position: relative; z-index: 1;">

                <div class="col-lg-4" style="transition: transform 0.3s, box-shadow 0.3s;"
                    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <button class="btn btn-white text-white"
                        style="border-radius: 60%; background-color: deepskyblue; width: 50px; height: 50px; font-size: 1.2rem; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 10px;"><b>1</b></button>
                    <p><img src="../../../assets/images/homecustomer/step1.png" alt="T√¨m n∆°i mu·ªën ƒë·∫øn"
                            style="width: 100px;"></img></p>

                    <h4 style="font-weight: bold;">T√¨m n∆°i mu·ªën ƒë·∫øn</h4>
                    <p style="color: #666;">B·∫•t c·ª© n∆°i ƒë√¢u b·∫°n mu·ªën ƒë·∫øn, ch√∫ng t√¥i c√≥ t·∫•t c·∫£ nh·ªØng g√¨ b·∫°n c·∫ßn</p>
                </div>

                <div class="col-lg-4" style="transition: transform 0.3s, box-shadow 0.3s;"
                    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <button class="btn btn-white text-white"
                        style="border-radius: 60%; background-color: deepskyblue; width: 50px; height: 50px; font-size: 1.2rem; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 10px;"><b>2</b></button>
                    <p><img src="../../../assets/images/homecustomer/step2.png" alt="ƒê·∫∑t v√©"
                            style="width: 100px;"></img></p>

                    <h4 style="font-weight: bold;">ƒê·∫∑t v√©</h4>
                    <p style="color: #666;">NHTravel s·∫Ω h·ªó tr·ª£ b·∫°n ƒë·∫∑t v√© tr·ª±c ti·∫øp nhanh ch√≥ng v√† thu·∫≠n ti·ªán</p>
                </div>

                <div class="col-lg-4" style="transition: transform 0.3s, box-shadow 0.3s;"
                    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <button class="btn btn-white text-white"
                        style="border-radius: 60%; background-color: deepskyblue; width: 50px; height: 50px; font-size: 1.2rem; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 10px;"><b>3</b></button>
                    <p><img src="../../../assets/images/homecustomer/step3.png" alt="Thanh to√°n"
                            style="width: 100px;"></img></p>
                    <h4 style="font-weight: bold;">Thanh to√°n</h4>
                    <p style="color: #666;">Ho√†n th√†nh b∆∞·ªõc thanh to√°n v√† s·∫µn s√†ng cho chuy·∫øn ƒëi ngay th√¥i</p>
                </div>
            </div>

        </div>
    </div>

    <div class="container">

        <!-- ƒêi·ªÉm ƒë·∫øn y√™u th√≠ch -->
        <div class="row" data-animate="fade-in-up"
            style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
            <!-- Ti√™u ƒë·ªÅ -->
            <div class="text-center mb-3">
                <h2 style="font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif; letter-spacing: 1px;"
                    class="text-primary"><b>ƒêi·ªÉm ƒë·∫øn y√™u th√≠ch</b></h2>
                <span class="text-secondary">Tour du l·ªãch Trong n∆∞·ªõc v·ªõi NHTravel. H√†nh h∆∞∆°ng ƒë·∫ßu xu√¢n - T·∫≠n h∆∞·ªüng b·∫£n
                    s·∫Øc
                    Vi·ªát.</span>
            </div>
        </div>

        <!-- ·∫¢nh -->
        <div class="row" data-animate="fade-in-up"
            style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
            <template v-for="(value, index) in listTour" :key="index">
                <div class="col-lg-3 mb-4">
                    <div class="position-relative">
                        <div class="card h-100 shadow-sm"
                            style="width: 20rem; height: 30rem; border-radius: 12px; border: none; overflow: hidden; transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);"
                            onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 20px 40px rgba(0, 0, 0, 0.15)'"
                            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 1px 2px rgba(0,0,0,0.07)'">
                            <div class="position-relative">
                                <img :src="value.url" class="card-img-top"
                                    style="height: 250px; width: 100%; object-fit: cover; border-radius: 12px 12px 0 0;">
                                <div class="position-absolute bottom-0 start-0">
                                    <button class="btn text-white py-1 px-2"
                                        style="background-color: rgba(0, 0, 0, 0.6); border-radius: 0 10px 0 12px; font-size: 0.9rem;">
                                        <i class="fa-solid fa-map-marker-alt me-1"></i>
                                        {{ value.dia_diem }}
                                    </button>
                                </div>
                            </div>

                            <div class="card-body d-flex flex-column justify-content-between text-start"
                                style="height: 230px;">
                                <div>
                                    <h5 class="card-title truncate-2-lines fw-bold"
                                        style="max-width: 100%; color: #333;">{{
                                            value.ten_tour }}</h5>

                                    <div class="text-secondary mt-2" style="font-size: 0.9rem;">
                                        <i class="fa-solid fa-clock me-2 text-primary"></i>
                                        <span>
                                            {{ formatDate(value.ngay_di) }} ‚Üí {{ formatDate(value.ngay_ve) }}
                                        </span>
                                    </div>
                                </div>

                                <div>
                                    <div class="d-flex align-items-baseline">
                                        <span class="text-secondary me-1" style="font-size: 13px;">Ng∆∞·ªùi l·ªõn:</span>
                                        <h4 class="mb-0 fw-bold" style="color: #ff9800; font-size: 1.5rem;">
                                            {{ formatVND(value.gia_nguoi_lon) }}
                                        </h4>
                                    </div>

                                    <div class="d-flex align-items-baseline text-secondary mt-1 mb-2">
                                        <span class="me-1" style="font-size: 12px;">Tr·∫ª em:</span>
                                        <span class="fw-semibold" style="font-size: 14px;">
                                            {{ formatVND(value.gia_tre_em) }}
                                        </span>
                                    </div>

                                    <div class="d-flex justify-content-between"
                                        style="align-items: center; border-top: 1px solid #eee; padding-top: 10px;">
                                        <router-link :to="`/chi-tiet-tour/${value.id}`">
                                            <span class="text-primary fw-bold" style="transition: color 0.3s;"
                                                onmouseover="this.style.color='#0077cc'"
                                                onmouseout="this.style.color='#0099ff'"><u>Xem chi
                                                    ti·∫øt</u></span>
                                        </router-link>
                                        <router-link :to="`/dat-tour/${value.id}`">
                                            <button class="btn text-white fw-bold"
                                                style="background-color: #ff5722; transition: background-color 0.3s;"
                                                onmouseover="this.style.backgroundColor='#e64a19'"
                                                onmouseout="this.style.backgroundColor='#ff5722'">
                                                <i class="fa-brands fa-opencart me-2"></i>ƒê·∫∑t tour
                                            </button>
                                        </router-link>
                                    </div>

                                </div>
                            </div>

                        </div>
                        <div class="position-absolute top-0 start-0">
                            <button class="btn btn-danger text-white py-1 px-3"
                                style="border-radius: 12px 0 12px 0; font-size: 0.9rem;"><b>DEAL
                                    Gi√° s·ªëc!</b></button>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        <!-- TR·∫¢I NGHI·ªÜM S·∫ÆC XU√ÇN VI·ªÜT NAM -->
        <div class="position-relative text-center mt-5" data-animate="fade-in-up"
            style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
            <img src="../../../assets/images/homecustomer/nui.jpg" style="width: 1290px; height: 400px;">
            <div class="position-absolute top-50 translate-middle" style="margin-left: 32rem;">
                <div class="row">
                    <div class="col-lg-7 text-start" style="margin-top: 8rem;">
                        <h5 class="me-5" style="color: #0099ff;"><b>TR·∫¢I NGHI·ªÜM S·∫ÆC XU√ÇN VI·ªÜT NAM</b></h5>
                        <hr class="text-white">
                        <div>
                            <h2 class="text-white me-5 "><b>L·ªÑ H·ªòI HOA 3 MI·ªÄN</b></h2>
                        </div>
                        <span class="text-white">
                            H√≤a m√¨nh v√†o s·∫Øc xu√¢n r·ª±c r·ª° kh·∫Øp ba mi·ªÅn Vi·ªát Nam: ng·∫Øm hoa ƒë√†o mi·ªÅn B·∫Øc, hoa gi·∫•y v√† n√©t
                            c·ªï
                            k√≠nh mi·ªÅn Trung, mai v√†ng r·ª±c r·ª° mi·ªÅn Nam, c√πng tr·∫£i nghi·ªám vƒÉn h√≥a ‚Äì ·∫©m th·ª±c ‚Äì l·ªÖ h·ªôi ƒë·∫∑c
                            s·∫Øc
                            tr√™n m·ªçi n·∫ªo ƒë∆∞·ªùng.
                        </span>
                    </div>
                    <div class="col-lg-5" style="margin-top: 10rem;">
                        <video autoplay loop muted playsinline preload="auto"
                            poster="../../../assets/images/homecustomer/flower.jpg"
                            style="width: 600px; height: 300px; object-fit: contain;">
                            <source src="../../../assets/images/homecustomer/flower.mp4" type="video/mp4">
                            Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
                        </video>

                    </div>
                </div>
            </div>
        </div>

        <!-- B√ÄI VI·∫æT -->
        <h2 data-animate="fade-in-up"
            style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease; margin-top: 5rem;"
            class="text-center fw-bold mb-5 text-primary">C·∫©m nang Du l·ªãch</h2>

        <div class="row" data-animate="fade-in-up"
            style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
            <template v-for="(value, index) in listBaiViet" :key="index">
                <div class="col-lg-4 mb-5">
                    <router-link :to="`/chi-tiet-bai-viet/${value.id}`" style="text-decoration: none; color: inherit;">
                        <div class="card h-100 shadow-sm" style="
                                border: none; 
                                border-radius: 12px; 
                                overflow: hidden; 
                                transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
                            "
                            onmouseover="this.style.boxShadow='0 15px 30px rgba(0, 0, 0, 0.15)'; this.style.transform='translateY(-5px)'"
                            onmouseout="this.style.boxShadow='0 4px 8px rgba(0, 0, 0, 0.1)'; this.style.transform='translateY(0)'">

                            <img :src="value.hinh_anh" class="card-img-top" style="height: 250px; object-fit: cover;">

                            <div class="card-body">
                                <h5 class="card-title text-truncate fw-bold" style="color: #333;">
                                    {{ value.tieu_de }}
                                </h5>
                                <p class="card-text text-secondary mb-3" style="font-size: 0.95rem;">
                                    {{ value.mo_ta_ngan }}
                                </p>
                                <span class="text-primary fw-bold" style="font-size: 0.9rem;">
                                    ƒê·ªçc th√™m ‚Üí
                                </span>
                            </div>

                        </div>
                    </router-link>
                </div>
            </template>
        </div>
    </div>


    <!-- Kh√°ch h√†ng ƒë√°nh gi√°  -->
    <div class="row bg-white text-center" data-animate="fade-in-up"
        style="opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
        <h2 class="mt-4" style="font-family: 'Arial Black', Impact, sans-serif;">Kh√°ch h√†ng ƒë√°nh gi√°</h2>
        <p class="mt-2 mb-3">M·ª•c ti√™u h√†ng ƒë·∫ßu c·ªßa ch√∫ng t√¥i l√† s·ª± h√†i l√≤ng c·ªßa kh√°ch h√†ng</p>

        <!-- ƒê√°nh gi√° c·ªßa ng∆∞·ªùi d√πng -->
        <div class="position-relative">
            <!-- ·∫¢nh -->
            <img src="../../../assets/images/homecustomer/danhgia.jpg">

            <!-- ƒê√°nh gi√° -->
            <div class="position-absolute top-0 start-50 translate-middle-x">

                <div id="carouselExampleIndicators" class="carousel slide">
                    <div class="carousel-inner">

                        <div v-for="(value, index) in danhGiaList" :key="index" class="carousel-item"
                            :class="{ active: index === 0 }">

                            <div class="text-center p-4">
                                <p style="font-size: 1.1rem; font-style: italic;">"{{ value.binh_luan }}"</p>
                                <p style="margin-top: 1rem; font-weight: bold;">‚≠ê {{ value.diem }}/5</p>
                            </div>

                        </div>

                    </div>

                    <!-- N√∫t ƒëi·ªÅu h∆∞·ªõng -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" style="background-color: #555;"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" style="background-color: #555;"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>

            </div>
        </div>
    </div>

</template>
<script>
import axios from 'axios'
export default {

    data() {
        return {
            listTour: [],
            danhGiaList: [
                { id: 1, id_tour: 1, diem: 5, binh_luan: "Chuy·∫øn ƒëi Nha Trang th·∫≠t s·ª± tuy·ªát v·ªùi. H∆∞·ªõng d·∫´n vi√™n r·∫•t nhi·ªát t√¨nh, vui v·∫ª v√† lu√¥n t·∫°o kh√¥ng kh√≠ tho·∫£i m√°i cho ƒëo√†n. C√°c ƒëi·ªÉm tham quan ƒë∆∞·ª£c s·∫Øp x·∫øp h·ª£p l√Ω, gi√∫p m·ªçi ng∆∞·ªùi v·ª´a ƒë∆∞·ª£c tr·∫£i nghi·ªám bi·ªÉn ƒë·∫£o, v·ª´a c√≥ th·ªùi gian ngh·ªâ ng∆°i ch·ª•p ·∫£nh." },
                { id: 2, id_tour: 1, diem: 4, binh_luan: "L·ªãch tr√¨nh ƒë∆∞·ª£c b·ªë tr√≠ kh√° h·ª£p l√Ω, ƒëi t·ª´ s√°ng ƒë·∫øn chi·ªÅu nh∆∞ng kh√¥ng qu√° m·ªát. T√¥i th√≠ch nh·∫•t l√† ƒë∆∞·ª£c tham gia c√°c ho·∫°t ƒë·ªông tr·∫£i nghi·ªám nh∆∞ l·∫∑n ng·∫Øm san h√¥ v√† ƒëi thuy·ªÅn." },
                { id: 3, id_tour: 2, diem: 3, binh_luan: "Chuy·∫øn ƒëi ƒê√† N·∫µng mang l·∫°i nhi·ªÅu k·ª∑ ni·ªám, c√°c ƒë·ªãa ƒëi·ªÉm n·ªïi ti·∫øng nh∆∞ B√† N√† Hills hay Ng≈© H√†nh S∆°n r·∫•t ƒë·∫πp. Tuy nhi√™n do th·ªùi ti·∫øt n·∫Øng g·∫Øt n√™n vi·ªác di chuy·ªÉn h∆°i v·∫•t v·∫£. N·∫øu c√¥ng ty chu·∫©n b·ªã th√™m n∆∞·ªõc u·ªëng ho·∫∑c khƒÉn l·∫°nh cho ƒëo√†n th√¨ s·∫Ω tuy·ªát v·ªùi h∆°n." },
                { id: 4, id_tour: 3, diem: 5, binh_luan: "Ph√∫ Qu·ªëc ƒë√∫ng l√† thi√™n ƒë∆∞·ªùng bi·ªÉn. N∆∞·ªõc bi·ªÉn trong xanh, b√£i c√°t m·ªãn v√† kh√¥ng kh√≠ trong l√†nh. T√¥i r·∫•t ·∫•n t∆∞·ª£ng v·ªõi chuy·∫øn ƒëi c√°p treo H√≤n Th∆°m, c·∫£m gi√°c ng·∫Øm to√†n c·∫£nh t·ª´ tr√™n cao th·ª±c s·ª± kh√≥ qu√™n." },
                { id: 5, id_tour: 2, diem: 4, binh_luan: "Tour gi√° c·∫£ h·ª£p l√Ω so v·ªõi ch·∫•t l∆∞·ª£ng d·ªãch v·ª•. Nh√¢n vi√™n t∆∞ v·∫•n t·ª´ l√∫c ƒëƒÉng k√Ω ƒë·∫øn khi ƒëi ƒë·ªÅu r·∫•t t·∫≠n t√¨nh. T√¥i ·∫•n t∆∞·ª£ng nh·∫•t l√† ƒë∆∞·ª£c gh√© thƒÉm c√°c l√†ng ngh·ªÅ truy·ªÅn th·ªëng v√† th∆∞·ªüng th·ª©c ·∫©m th·ª±c ƒë·ªãa ph∆∞∆°ng." }
            ],
            listDiaDiem: [
                { id: 1, dia_diem: "H√† N·ªôi", hinh_anh: "https://vietmytravel.com/wp-content/uploads/2019/04/vietmytravel_du-l%E1%BB%8Bch-h%C3%A0-n%E1%BB%99i.jpg" },
                { id: 2, dia_diem: "Ninh B√¨nh", hinh_anh: "https://i.pinimg.com/1200x/e0/12/65/e01265f9116c51d9f2a0bddc628f5510.jpg" },
                { id: 3, dia_diem: "ƒê√† N·∫µng", hinh_anh: "https://i.pinimg.com/1200x/b1/b6/2e/b1b62ebf11a34189ae0ee007550a30e2.jpg" },
                { id: 4, dia_diem: "C·∫ßn Th∆°", hinh_anh: "https://cdn.nhandan.vn/images/d233c8299c7755bbf317d96e7a85fcf76f122b8bec1cf47c6fed69884ee6e90197a1a52235ea7b286c8b22ded92e7550648fb2c5e9c154b96547b2ea607cb2cf/can_tho_1-1629939987931.jpg" }
            ],
            listBaiViet: [],
            diaDiem: "",
            ngayDi: "",
            nganSach: "", // V√≠ d·ª•: 1 = <5tr, 2 = 5‚Äì10tr, 3 = >10tr
            searchText: "",
            errors: {
                diaDiem: "",
            }

        }
    },
    mounted() {
        this.loadData();
        this.getDanhGia();

        // Delay animation setup ƒë·ªÉ ch·∫Øc ch·∫Øn DOM ƒë√£ render
        setTimeout(() => {
            this.initFadeInAnimation();
        }, 500); // c√≥ th·ªÉ ch·ªânh v·ªÅ 300 n·∫øu th·∫•y m∆∞·ª£t
    },
    methods: {
        formatVND(number) {
            return new Intl.NumberFormat('vi-VI', { style: 'currency', currency: 'VND' }).format(number,);
        },
        formatDate(date) {
            return new Date(date).toLocaleDateString('vi-VI');
        },
        loadData() {
            axios.get('http://127.0.0.1:8000/api/home-page')
                .then((res) => {
                    this.listTour = res.data.data_tour.map(tour => {
                        return {
                            ...tour,
                            url: (tour.anh && tour.anh.length > 0) ? tour.anh[0].url : 'default.jpg'
                        }
                    });
                    this.listBaiViet = res.data.data_bv;
                })
        },
        submitSearch() {
            this.errors.diaDiem = ""; // reset l·ªói

            if (!this.searchText.trim()) {
                this.errors.diaDiem = "Vui l√≤ng nh·∫≠p ƒëi·ªÉm ƒë·∫øn!";
                return;
            }

            const query = {
                location: this.searchText.trim(),
            };

            if (this.ngayDi) query.startDate = this.ngayDi;
            if (this.nganSach === "1") query.maxPrice = 5000000;
            else if (this.nganSach === "2") query.maxPrice = 10000000;
            else if (this.nganSach === "3") query.maxPrice = 50000000;

            this.$router.push({ path: "/tour-all", query });
        },
        getDanhGia() {
            axios.get("http://127.0.0.1:8000/api/danh-gia")
                .then(res => {
                    this.danhGiaList = res.data.map(item => {
                        return {
                            diem: item.diem,
                            binh_luan: item.binh_luan,
                            avatar: item.nguoi_dung?.avatar ?? "https://i.pinimg.com/736x/57/7c/c8/577cc844392618013ce82797abd4169e.jpg"
                        }
                    });
                });
        },
        initFadeInAnimation() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        observer.unobserve(entry.target); // Ch·ªâ trigger 1 l·∫ßn
                    }
                });
            }, { threshold: 0.1 });

            const targets = document.querySelectorAll('[data-animate="fade-in-up"]');
            targets.forEach(el => observer.observe(el));
        }

    }
}
</script>
